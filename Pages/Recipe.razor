@page "/Recipe"
@using Health_expert_B.Pages
@inject NavigationManager NavManager


<div class="containter d-flex flex-column vh-100">
        
        <div class="p-4">
    <div class="text-right text-white h5 rounded-pill bg-primary d-inline-block px-3 py-2">
        @SelectedRecipe:
    </div>

            <div class="pic-input"> 
   
                @if (!string.IsNullOrEmpty(@ImageUrl))
                {
                    <img src="@ImageUrl" alt="Generated Image" class="img-fluid mt-3 mb-5" />
                    <textarea readonly style="border: none; resize:none;">This image of @SelectedRecipe is generated by Dalle2</textarea>
                }
            </div>

        <div class="form-floating">
            @if (_isSendingMessage)
            {
                <div class="d-flex align-items-center">
                    <strong>Creating your recipe for @SelectedRecipe..</strong>
                    <div class="spinner-border ms-auto text-primary" aria-hidden="true" role="status">
                    </div>
                </div>
            }
        </div>

        <textarea class="form-control main-text" id="floatingTextarea2"  value="@RecipeByAssistant" style="height: 800px; background-color: #fff;" readonly></textarea>        
        <button type="submit" @ref="textInputRef" class="textInputRef mt-3 btn-primary btn btn-Danger btn-lg rounded-5" @onclick="NavigateToAnotherPage">Get a new recipe</button>


    </div>
</div>